<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="icon-256.png" type="image/png">
<title>Ultra Chaos Clicker</title>
<style>
body {
  margin:0; background:#111; color:#0f0; font-family:'Courier New', monospace;
  display:flex; flex-direction:column; align-items:center; min-height:100vh;
  overflow-x:hidden;
}
#gameContainer {
  margin-top:20px; padding:20px; border:2px solid #0f0; border-radius:12px;
  background:#1a1a1a; box-shadow:0 0 20px rgba(0,255,0,0.3); text-align:center;
  transition:transform 0.1s; position:relative; min-width:300px;
}
h1 { margin:10px 0 20px; font-size:1.8em; }
button {
  padding:12px 20px; margin:8px 0; font-size:16px; cursor:pointer;
  background:#222; border:2px solid #0f0; color:#0f0; border-radius:8px;
  transition:transform 0.1s, background 0.1s, box-shadow 0.2s; width:100%; text-align:center;
}
button:hover { background:#333; box-shadow:0 0 10px #0f0; }
#megaClickBtn { display:none; background:#330033; border-color:#f0f; color:#f0f; }

#bars { width:100%; max-width:400px; margin:20px auto; }
.barWrap { margin:10px 0; }
.barLabel { font-size:14px; margin-bottom:4px; color:#aaa; text-align:left; }
.bar { width:100%; height:14px; border:1px solid #0f0; border-radius:8px; background:#222; overflow:hidden; }
.fill { height:100%; width:0%; background:linear-gradient(90deg,#0f0,#0ff); transition:width 0.2s linear; }

#shop { margin-top:20px; width:95%; max-width:500px; }
#shop h2 { margin-bottom:10px; }

.emoji { position:absolute; font-size:24px; pointer-events:none; animation:floatUp 1s linear forwards; }
@keyframes floatUp {0%{transform:translateY(0) rotate(0deg); opacity:1;} 100%{transform:translateY(-150px) rotate(360deg); opacity:0;}}
.particle { position:absolute; width:5px;height:5px; border-radius:50%; pointer-events:none; animation:fly 0.5s linear forwards; }
@keyframes fly {0%{transform:translate(0,0); opacity:1;}100%{transform:translate(var(--x),var(--y)); opacity:0;}}
.comboText { position:absolute; color:#0ff; font-weight:bold; pointer-events:none; animation:comboFloat 0.8s ease-out forwards; }
@keyframes comboFloat {0%{opacity:1; transform:translateY(0);}100%{opacity:0; transform:translateY(-40px);}}

#achButton { position:absolute; top:10px; right:10px; width:120px; font-size:14px; }
#achOverlay { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.6);
  display:none; justify-content:center; align-items:center; z-index:999; }
#achPanel { background:#111; border:2px solid #0f0; border-radius:12px; width:300px; padding:20px; text-align:left; max-height:80%; overflow-y:auto; position:relative; }
#achPanel h2 { margin-top:0; text-align:center; }
.closeAch { position:absolute; top:10px; right:10px; cursor:pointer; color:#f00; font-weight:bold; }
.achItem { margin:5px 0; padding:4px; border-bottom:1px solid #0f0; font-size:14px; }
.locked { color:#555; }
</style>
</head>
<body>

<div id="gameContainer">
  <button id="achButton">Achievements</button>
  <h1>Points: <span id="points">0</span></h1>
  <button id="clickBtn">CLICK!</button>
  <button id="megaClickBtn">MEGA CLICK üí•</button>

  <div id="bars">
    <div class="barWrap">
      <div class="barLabel">Prestige Progress</div>
      <div class="bar"><div id="prestigeFill" class="fill"></div></div>
    </div>
    <div class="barWrap">
      <div class="barLabel">Combo</div>
      <div class="bar"><div id="comboFill" class="fill"></div></div>
    </div>
  </div>

  <div id="shop"></div>
</div>

<div id="achOverlay">
  <div id="achPanel">
    <div class="closeAch">‚ùå</div>
    <h2>Achievements</h2>
    <div id="achList"></div>
  </div>
</div>

<script>
// Game state
let points=0, clickPower=1, autoClickers=0, prestigePoints=0, combo=0, lastClick=0, prestigeGoal=1000, permanentBonus=0;
const achievements = [
  {id:'firstClick', label:'First Click', desc:'Click for the first time', unlocked:false, bonus:1},
  {id:'thousandPoints', label:'1,000 Points', desc:'Reach 1,000 points', unlocked:false, bonus:2},
  {id:'tenKPoints', label:'10,000 Points', desc:'Reach 10,000 points', unlocked:false, bonus:5},
  {id:'fiftyClicks', label:'50 Clicks in session', desc:'Click 50 times in a session', unlocked:false, bonus:1}
];

// DOM
const pointsDisplay=document.getElementById('points');
const clickBtn=document.getElementById('clickBtn');
const megaClickBtn=document.getElementById('megaClickBtn');
const shopDiv=document.getElementById('shop');
const prestigeFill=document.getElementById('prestigeFill');
const comboFill=document.getElementById('comboFill');
const achOverlay=document.getElementById('achOverlay');
const achButton=document.getElementById('achButton');
const achList=document.getElementById('achList');
const gameContainer=document.getElementById('gameContainer');

// Helpers
function randomColor(){return `hsl(${Math.floor(Math.random()*360)},100%,50%)`;}
function randOffset(){return (Math.random()-0.5)*200+'px';}
function randomInt(max){return Math.floor(Math.random()*max);}
function spawnEmoji(){const e=document.createElement('div'); e.className='emoji'; e.textContent=['üí•','‚ö°','üî•','üëæ','‚ú®'][randomInt(5)]; e.style.left=randomInt(window.innerWidth)+'px'; e.style.top=randomInt(window.innerHeight)+'px'; e.style.color=randomColor(); document.body.appendChild(e); setTimeout(()=>e.remove(),1000);}
function spawnParticles(x,y,count=10){for(let i=0;i<count;i++){const p=document.createElement('div'); p.className='particle'; p.style.background=randomColor(); p.style.left=x+'px'; p.style.top=y+'px'; p.style.setProperty('--x',randOffset()); p.style.setProperty('--y',randOffset()); document.body.appendChild(p); setTimeout(()=>p.remove(),500);}}
function spawnComboText(x,y,text){const t=document.createElement('div'); t.className='comboText'; t.style.left=x+'px'; t.style.top=y+'px'; t.textContent=text; document.body.appendChild(t); setTimeout(()=>t.remove(),800);}
function shakeScreen(mag=10){const x=(Math.random()-0.5)*mag; const y=(Math.random()-0.5)*mag; gameContainer.style.transform=`translate(${x}px,${y}px)`; setTimeout(()=>gameContainer.style.transform='translate(0,0)',100);}

// Achievements UI
function renderAchievements(){
  achList.innerHTML='';
  achievements.forEach(a=>{
    const div=document.createElement('div'); div.className='achItem '+(a.unlocked?'':'locked');
    div.textContent=a.label + (a.unlocked?` (+${a.bonus} CP)`: ' (Locked)');
    achList.appendChild(div);
  });
}

// Check achievements
function checkAchievements(){
  achievements.forEach(a=>{
    if(!a.unlocked){
      if(a.id==='firstClick' && points>0) a.unlocked=true;
      if(a.id==='thousandPoints' && points>=1000) a.unlocked=true;
      if(a.id==='tenKPoints' && points>=10000) a.unlocked=true;
      if(a.id==='fiftyClicks' && combo>=50) a.unlocked=true;
      if(a.unlocked) { permanentBonus += a.bonus; }
    }
  });
  renderAchievements();
}

// Shop (simple)
let shopItems=[{name:"Auto Clicker",basePrice:50,amount:0,mult:1.15,effect:()=>autoClickers++},{name:"+1 Click Power",basePrice:100,amount:0,mult:1.2,effect:()=>clickPower++}];
function renderShop(){shopDiv.innerHTML='<h2>Shop</h2>'; shopItems.forEach(i=>{const cost=Math.floor(i.basePrice*Math.pow(i.mult,i.amount)); const btn=document.createElement('button'); btn.textContent=`${i.name} (${cost}) [Owned:${i.amount}]`; btn.onclick=()=>{if(points>=cost){points-=cost; i.amount++; i.effect(); updatePoints(); renderShop();}}; shopDiv.appendChild(btn);});}

// Update UI
function updatePoints(){pointsDisplay.textContent=points; prestigeFill.style.width=Math.min(100,(points/prestigeGoal)*100)+'%'; comboFill.style.width=Math.min(100,(combo/20)*100)+'%'; checkAchievements();}

// Prestige with scaled bonus
function prestige(){
  if(points>=prestigeGoal){
    let bonus=Math.floor(points/1000)+1; // scaled
    prestigePoints++;
    clickPower+=bonus+permanentBonus;
    points=0; autoClickers=0; shopItems.forEach(i=>i.amount=0);
    alert(`Prestige! Permanent +${bonus+permanentBonus} click power. Total prestige: ${prestigePoints}`);
    prestigeGoal=Math.floor(prestigeGoal*1.8);
    updatePoints(); renderShop();
  } else { alert("Not enough points to prestige!"); }
}

// Clicking
clickBtn.onclick=(e)=>{
  const now=Date.now();
  combo=(now-lastClick<300)?combo+1:1;
  lastClick=now;
  points+=clickPower*combo;
  updatePoints();
  spawnEmoji();
  spawnParticles(e.clientX,e.clientY,5+combo);
  spawnComboText(e.clientX,e.clientY,`+${combo}x`);
  shakeScreen(combo*2);
};

// Mega click
megaClickBtn.onclick=()=>{ points+=clickPower*50; updatePoints(); spawnParticles(window.innerWidth/2,window.innerHeight/2,100); shakeScreen(40); };

// Auto loop
setInterval(()=>{points+=autoClickers; updatePoints(); for(let i=0;i<autoClickers;i++){spawnEmoji();}},1000);

// Achievements button
achButton.onclick=()=>{ achOverlay.style.display='flex'; };
document.querySelector('.closeAch').onclick=()=>{ achOverlay.style.display='none'; };

// Init
renderShop();
updatePoints();
renderAchievements();
</script>
</body>
</html>
